<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Socket</title>
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="bower_components/angularjs/angular.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        angular.module('app', [])
        .controller('ctrl', function ($scope) {
            var socket = io.connect('http://localhost:4000/status');
            socket.on('news', function (data) {
                $scope.data = data;
                socket.emit('my other event', { my: 'data' });
                $scope.$apply();
            });
        });
    </script>
</head>

<body ng-app="app" ng-controller="ctrl">
    <h1>Hello!!</h1>

    {{data}}
</body>
</html>
